<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Ignotum Per Ignotius">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>hardened .*(nt|log)s? (old posts, page 23) | hardened .*(nt|log)s?</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://blog.piesso.com/index-23.html">
<link rel="icon" href="images/website/favicon.ico" sizes="16x16">
<link rel="icon" href="images/website/favicon-32x32.png" sizes="32x32">
<link rel="icon" href="images/website/favicon-16x16.png" sizes="16x16">
<link rel="icon" href="images/website/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="images/website/android-chrome-512x512.png" sizes="512x512">
<link rel="icon" href="images/website/android-chrome-192x192.png" sizes="192x192">
<link rel="prev" href="index-24.html" type="text/html">
<link rel="next" href="index-22.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark
bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href=".">

            <span id="blog-title">hardened .*(nt|log)s?</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="index.html" class="nav-link">Home</a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="pages/about-me" class="nav-link">About me</a>
                </li>
<li class="nav-item">
<a href="https://github.com/mofm" class="nav-link">Github</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ansible-ssh-keys-deployment/" class="u-url">Ansible SSH Keys Deployment</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/ansible-ssh-keys-deployment/" rel="bookmark">
            <time class="published dt-published" datetime="2017-12-10T21:25:32+03:00" itemprop="datePublished" title="2017-12-10 21:25">2017-12-10 21:25</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/ansible-ssh-keys-deployment/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>Ansible <strong>authorized_key</strong> modulu <em>'delegate_to'</em> ile sunuculara sshkey'leri deploy ederken bazi sshkey'lerin eklenmedigini gorebilirsiniz. Boyle bir sorun ile karsilasmamak icin asagidaki gibi bu module ihtiyac olmadan sshkey'leri ekleyebilirsiniz.</p>
<script src="https://gist.github.com/9882c618cb85a2cdd158bb1fc7babb29.js"></script><noscript>
<pre class="literal-block">- hosts: webservers
  remote_user: jack

  tasks:
    - name: fetch all public keys 
      shell: cat ~/.ssh/id_rsa.pub
      register: ssh_keys
      tags:
        - ssh

    - name: check ssh public keys
      debug: msg="{{ ssh_keys.stdout }}"
      tags:
        - ssh

    - name: deploy ssh keys
      shell: echo {{ ssh_keys.stdout }} &gt;&gt; ~/.ssh/authorized_keys
      delegate_to: "{{ item }}"
      with_items:
        - "{{groups['webservers']}}"
      tags:
        - ssh</pre>
</noscript>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/nginx-reverse-proxy-cache/" class="u-url">Nginx Reverse Proxy Cache</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/nginx-reverse-proxy-cache/" rel="bookmark">
            <time class="published dt-published" datetime="2017-12-09T15:13:35+03:00" itemprop="datePublished" title="2017-12-09 15:13">2017-12-09 15:13</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/nginx-reverse-proxy-cache/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <img alt="/images/nginx_logo.png" src="images/nginx_logo.png"><p>Bir websitesinin olmazsa olmaz unsurlardan biri performansli sekilde calismasidir. Performans ise birden fazla etkene bagli olabilir. Bu etkenler yazilan kodun kalitesinden tutun da websitenin yayinlandigi altyapiya kadar bagli olabilir. Fakat son kullanici sizin mukemmel kod kalitenize ya da sarsilmaz altyapiniza bakmaksizin kendine onune gelen performansdan memnun kalacaktir. Ayni zamanda dunyanin en iyi kodlarina yazarak cok iyi bir altyapi ile websitenizi yayina surseniz dahi kullaniciya giden iletisim surecleri belirlidir.</p>
<p>Bu yazida daha iyi bir performans ve hizli bir websitesi icin nginx uzerinde <em>"content cache"</em> hakkinda biraz bilgi vermeye calisacam. <em>"Content Cache"</em> kullanici ile proxy cache sunucusu arasinda saglanir. Asagidaki topolojiden  inceleyebiliriz:</p>
<img alt="/images/nginx_reverse_proxy.jpg" src="images/nginx_reverse_proxy.jpg"><p>Yukarda topolojide goruldugu gibi 'Client I' kullanicisi, reverse proxy sunucusu arkasindaki origin sunuculara ulasmaksizin website uzerindeki iceriklere reverse proxy uzerinden ulasir. Origin sunuculardan hic bir icerik istenmez.</p>
<section id="konfigurasyon"><h2>Konfigurasyon:</h2>
<p>Content cache islemi nginx uzerinde basit olarak <em>"proxy_cache_path"</em> ve <em>"proxy_cache"</em> konfigurasyonlari ile ayarlanabilir. Ilk olarak "/etc/nginx/nginx.conf" dosyasi icinde "http{}" arasina "proxy_cache_path" konfigurasyonunu girelim.</p>
<pre class="code text"><a id="rest_code_fae11942977449f5a5e86e7d8743f421-1" name="rest_code_fae11942977449f5a5e86e7d8743f421-1"></a>proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=cache:10m max_size=1g inactive=60m use_temp_path=off;
</pre>
<p>Yazdigimiz konfigurasyonu inceleyelim:</p>
<dl class="simple">
<dt>/var/cache/nginx</dt>
<dd>
<p>cache icin kullanilacak dizin. Eger bu dizin olusturulmamissa olusturun ve nginx kullanicisina yazma hakkini  verdiginize emin olun.</p>
</dd>
</dl>
<pre class="code bash"><a id="rest_code_3d4791d1e70949a4b648049a05e8c686-1" name="rest_code_3d4791d1e70949a4b648049a05e8c686-1"></a><span class="c1"># mkdir -p /var/cache/nginx</span>
<a id="rest_code_3d4791d1e70949a4b648049a05e8c686-2" name="rest_code_3d4791d1e70949a4b648049a05e8c686-2"></a><span class="c1"># chown nginx:nginx /var/cache/nginx</span>
</pre>
<dl class="simple">
<dt>levels=1:2</dt>
<dd>
<p>Nginx yukarda olusturdugumuz dizin altinda two-level directory ile cachelenen tum icerikleri tek bir dizin altinda degilde two-level dizin altinda tutmasini istiyoruz. Eger levels konfigurasyonunu yapmazsaniz nginx tum icerikleri tek bir dizin altinda toplayacak ve buyuk boyutlu cachelenen iceriklerde dosyaya erisim hizlari azalacaktir.</p>
</dd>
<dt>keys_zone=cache:10m</dt>
<dd>
<p>Burada nginx cache key'ler icin shared memory zone olusturuyor. Cachelenen icerigi diske erisimi saglamadan direk olusturulan bu zone uzerinde okumasini sagliyor. "10m" ise cachelenecek olan keys buyuklugunu ayarliyoruz. 1 MB zone 8000 keys, 10MB zone 80000 keys icerebilir. Kendi cachelenecek sisteminize gore bu buyuklugu ayarlayabilirsiniz.</p>
</dd>
<dt>max_size=1g</dt>
<dd>
<p>Cachelenecek maksimum buyuklugu ifade eder.</p>
</dd>
<dt>inactive=60m</dt>
<dd>
<p>Cachelenmis bir icerige herhangi bir erisim olmuyorsa ne kadar sure sonra inactive olmasini ayarlar.</p>
</dd>
<dt>use_temp_path=off</dt>
<dd>
<p>Nginx yukarda bahsettigimiz '/var/cache/nginx' dizinine yazmadan once gecici olarak bir dizine yazmasini ya da ikinci bir dizine yazmayi kapatmayi ayarlar. Onerilen ikinci bir yazma olmamasi icin bu ayari her zaman "off" olarak ayarlamaniz.</p>
</dd>
</dl>
<p>"proxy_cache_path" ile ilgili kismimiz bu kadar. Artik herhangi bir upstream sitemiz ile ilgili ayarlamalarimizi yapalim.
Asagidaki konfigurasyonlari tekil dosya kullaniyorsaniz "/etc/nginx/nginx.conf" dosyasi icinde, ayrisik konfigurasyon kullaniyorsaniz ornek olarak "/etc/nginx/conf.d/upstream01.conf" icinde "location / {}" arasinda ayarlamaniz gerekmektedir.</p>
<p>Ornek olarak:</p>
<pre class="code text"><a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-1" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-1"></a>location / {
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-2" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-2"></a>     proxy_cache cache;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-3" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-3"></a>     proxy_cache_valid  200 302  60m;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-4" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-4"></a>     proxy_cache_valid  404      1m;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-5" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-5"></a>     proxy_cache_revalidate on;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-6" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-6"></a>     proxy_cache_min_uses 3;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-7" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-7"></a>     proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-8" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-8"></a>     proxy_cache_background_update on;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-9" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-9"></a>     proxy_cache_lock on;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-10" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-10"></a>     add_header X-Proxy-Cache $upstream_cache_status;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-11" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-11"></a>     proxy_ignore_headers Set-Cookie;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-12" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-12"></a>     proxy_pass http://upstream01;
<a id="rest_code_efd4ff9168b34a50a8e17cd655815ef7-13" name="rest_code_efd4ff9168b34a50a8e17cd655815ef7-13"></a>}
</pre>
<p>Yukarda yazdigimiz konfigurasyona kisaca goz atalim.</p>
<dl class="simple">
<dt>proxy_cache cache;</dt>
<dd>
<p>proxy_cache_path konfigurasyonunda olusturdugumuz shared memory zone adini belirttik.</p>
</dd>
<dt>proxy_cache_valid 200 302 60m;</dt>
<dd>
<p>HTTP cevap kodu 200 ile 302 donen sayfalarin cache suresi 60 dakika olmasini belirttik.Kendi sisteminize gore konfigure edebilirsiniz.</p>
</dd>
<dt>proxy_cache_valid 404 1m;</dt>
<dd>
<p>404 cevabi donen sayfalarin cache surelerini 1 dakika olarak ayarladik. Kendi sisteminize gore konfigure edebilirsiniz.</p>
</dd>
<dt>proxy_cache_revalidate on;</dt>
<dd>
<p>Nginx, origin sunuculardan GET istegi gondererek icerekleri yeniler. Nginx 'If-Modified-Since' ve 'Last-Modified' cache control headerlari ekleyerek, cache kontrolunu yapar.Bir kullanici guncellenmis bir icerige istek yaparsa nginx sadece guncellenen icerigin cacheni yenileyerek performans ve band genisligininden tasarruf saglar.</p>
</dd>
<dt>proxy_cache_min_uses 3;</dt>
<dd>
<p>Nginx, bir icerigin cachelenmesi icin minimum istek sayisini belirtemeniz halinde icerigi cacheleyecektir. Default olarak 1 olan istegi ben 3 yaptim. Kendi isteginize ve sisteminize gore konfigure edebilirsiniz.</p>
</dd>
<dt>proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504;</dt>
<dd>
<p>Eger origin sunuculari down olursa ya da hata verirse cachelenmis icerigi kullanicilari sunar.</p>
</dd>
<dt>proxy_cache_background_update on;</dt>
<dd>
<p>Yukardaki 'stale' konfigurayonunda belirttigimiz hata aninda cachelenmis icerigi yayinlamasi icin iceriklerin backgrounddan guncellenmesi direktifini verir.</p>
</dd>
<dt>proxy_cache_lock on;</dt>
<dd>
<p>Eger birden fazla kullanici ayni anda cachelenmemis bir icerige istek yollarsa sadece bir tanesinin istegi origin servera gonderilerek cachelenmesi saglanir.Diger istek ya da istekler icerik cachelenme islemi bitine kadar bekletilir.</p>
</dd>
<dt>add_header X-Proxy-Cache $upstream_cache_status;</dt>
<dd>
<p>HTTP header'i icine 'X-Proxy-Cache' headerini ekler. Bu basligi eklemek daha sonra proxy cache isleminin calisip calismadigini kontrol etmek icin kullanabilirsiniz.</p>
</dd>
<dt>proxy_ignore_headers Set-Cookie;</dt>
<dd>
<p>'Set-Cookie' headerinin cachelenmemesini belirttik.</p>
</dd>
</dl></section><section id="test"><h2>Test:</h2>
<p>Yukardaki gibi konfigurasyonlari girip nginx web sunucunuzu reload/restart ettikten sonra Proxy Cache'in calisip calismadigini test edelim.</p>
<pre class="code bash"><a id="rest_code_aaf4a784963743dea62614b57aa7715e-1" name="rest_code_aaf4a784963743dea62614b57aa7715e-1"></a>$ curl -I http://www.example.com
<a id="rest_code_aaf4a784963743dea62614b57aa7715e-2" name="rest_code_aaf4a784963743dea62614b57aa7715e-2"></a>  HTTP/1.1 <span class="m">200</span> OK
<a id="rest_code_aaf4a784963743dea62614b57aa7715e-3" name="rest_code_aaf4a784963743dea62614b57aa7715e-3"></a>  Server: nginx
<a id="rest_code_aaf4a784963743dea62614b57aa7715e-4" name="rest_code_aaf4a784963743dea62614b57aa7715e-4"></a>  ...
<a id="rest_code_aaf4a784963743dea62614b57aa7715e-5" name="rest_code_aaf4a784963743dea62614b57aa7715e-5"></a>  X-Proxy-Cache: HIT
</pre>
<p>'X-Proxy-Cache' headeri, gonderilen istedigin gecerli oldugunu ve cevabin cache'den gonderildigi gosteriyor.</p>
<p>Diger Cache status cevaplari:</p>
<dl class="simple">
<dt>MISS:</dt>
<dd>
<p>Gonderilen istedigin gecersiz oldugunu ve cache icinde istek gonderilen sayfanin olmadigini belirtir. Cevap origin sunucudan kullaniciya gonderilmistir.</p>
</dd>
<dt>BYPASS:</dt>
<dd>
<p>Gonderilen icerik direk olarak origin sunuculardan kullaniciya gonderilmistir.</p>
</dd>
<dt>EXPIRED:</dt>
<dd>
<p>Icerik cache uzerinde suresi dolmus ve origin sunucu uzerinden gonderilmis.</p>
</dd>
<dt>STALE:</dt>
<dd>
<p>Origin sunucular cevap vermedigini ve icerigin cache uzerinden verildigini belirtir.</p>
</dd>
<dt>UPDATING:</dt>
<dd>
<p>Icerigin stale durumda oldugunu ve bir onceki istek ile guncellemede oldugunu belirtir.</p>
</dd>
<dt>REVALIDATED:</dt>
<dd>
<p>Daha once yukarida(proxy_cache konfigurasyonu kisminda) acikladigim gibi revalidated isleminde oldugunu belirtir.</p>
</dd>
</dl>
<p>Sizde yapmis oldugunuz konfigurasyonu test ederek cache durumunuzu kontrol edebilirsiniz. Kolay gelsin :)</p>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/locust-load-testing-tool/" class="u-url">Locust: Load Testing Tool</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/locust-load-testing-tool/" rel="bookmark">
            <time class="published dt-published" datetime="2017-12-04T00:37:28+03:00" itemprop="datePublished" title="2017-12-04 00:37">2017-12-04 00:37</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/locust-load-testing-tool/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><em>Locust</em>, kullanimi diger uygulamalara gore kolay distributed load testing aracidir. Websitenizi ya da diger sistemlerinizi kullanici sayilarini simule ederek yazdiginiz kodlari ya da sistemlerinizi load testing yaparak kontrol etmenize olanak saglar.</p>
<p><strong>Locust'un ozellikleri:</strong></p>
<ul class="simple">
<li><p>Kolay test senaryosu yazma. Diger araclara gore daha sade ve kolay syntax ile yazabilme. Python'a asina olanlar icin yabancilik cekmeyecekleri sekilde python kod.</p></li>
<li><p>Distributed load testing. Tekil ya da coklu makinelerle load testing yapabilme. Ister kullandiginiz bir bilgisayarla isterse 20 makine ile test yapabilme imkani.</p></li>
<li><p>Webarayuzu. Locust HTML+JS ile size realtime test sonuclarini webarayuzunden izleyebilme imkani sagliyor.</p></li>
<li><p>Her turlu sistemi test edebilirsiniz. Sadece websitelerini degil ldap,smtp gibi servis verdiginiz her turlu sistemleri biraz python biliyorsaniz client kod vs yazayarak test edebilirsiniz.</p></li>
<li><p>Apache JMeter gibi java bagimliliginiz kalmadan bu testlerinizi yapabilirsiniz.( JMeter uzerinde SSL sertifikaniz 4096 bit gibi yuksek sifrelenmis ise javanin en yuksek 2048 bit desteklemesi yuzunden basarili olamayabilirsiniz. )</p></li>
</ul>
<p><strong>Kurulumu</strong></p>
<p>Locust, Python 2.7, 3.3, 3.4, 3.5,3.6. versiyonlarini desteklemektedir. Sistemizdeki 'pip' kurulu oldugundan emin olun. Bir cok modern sistemlerde halihazirda kurulu olarak zaten geliyor.</p>
<pre class="code bash"><a id="rest_code_22fd90d12b8d49db966f7851d8a3fcd5-1" name="rest_code_22fd90d12b8d49db966f7851d8a3fcd5-1"></a><span class="c1"># pip install locustio</span>
</pre>
<p>Eger sadece kendi kullaniciniz icin kuracaksaniz;</p>
<pre class="code bash"><a id="rest_code_d9e8b8cee9ce4c78a9567bdc4d066835-1" name="rest_code_d9e8b8cee9ce4c78a9567bdc4d066835-1"></a>$ pip install --user locustio
</pre>
<p>Ardindan '~/.local/bin/' dizinini "PATH'inize ekleyin. GNU/Linux dagitiminiza ya da sisteminize gore '.bashrc' ya da 'bash_profile' dosyaniza eklemeniz gerekir.</p>
<pre class="code bash"><a id="rest_code_17cc1ddb3c694d8aa88d5fa5dc27d3fe-1" name="rest_code_17cc1ddb3c694d8aa88d5fa5dc27d3fe-1"></a><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:~/.local/bin
</pre>
<p>Kurulum adimlari bu kadar.</p>
<aside class="admonition note"><p class="admonition-title">Note</p>
<p>Son olarak not dusmek gerekir. Eger load testing yaparken yuksek sayida kullanici ile senaryo gerceklestirecekseniz sistemiz ve load-testing yapan kullaniciniz icin file-limit degerlerini yukseltmeniz gerekebilir.</p>
</aside><p>Ilk olarak sistemiz uzerinden file-limit degerini ogrenip yukseltmek icin;</p>
<pre class="code bash"><a id="rest_code_be85b6ea0740463daa02fead05a9718d-1" name="rest_code_be85b6ea0740463daa02fead05a9718d-1"></a><span class="c1"># cat /proc/sys/fs/file-max</span>
<a id="rest_code_be85b6ea0740463daa02fead05a9718d-2" name="rest_code_be85b6ea0740463daa02fead05a9718d-2"></a><span class="m">75000</span>
</pre>
<p>Yukarda goruldugu gibi sistem uzerinde file-limit degeri '75000'. Bu degeri ornek olarak '750000' yukseltmek icin;</p>
<pre class="code bash"><a id="rest_code_f70431ea68ee4409affa187db2042628-1" name="rest_code_f70431ea68ee4409affa187db2042628-1"></a><span class="c1"># sysctl -w fs.file-max=750000</span>
</pre>
<p>Sistem uzerinde kalici olarak degistirmek icin, "/etc/sysctl.conf" dosyasina asagidaki satiri ekleyin.</p>
<pre class="code bash"><a id="rest_code_dc4ec701faf74c27a93aebf736114321-1" name="rest_code_dc4ec701faf74c27a93aebf736114321-1"></a>fs.file-max <span class="o">=</span> <span class="m">750000</span>
</pre>
<p>Aktif etmek icin;</p>
<pre class="code bash"><a id="rest_code_462e471ba60246f58bc0c9e14dec3a55-1" name="rest_code_462e471ba60246f58bc0c9e14dec3a55-1"></a><span class="c1"># sysctl -p</span>
</pre>
<p>Bu limit degerlerini sisteme giris yaptiginiz ya da test yapacaginiz kullanici icin yukseltmek icin '/etc/security/limits.conf' dosyaniza asagidaki gibi degerleri ekleyin;</p>
<pre class="code bash"><a id="rest_code_74497dc970264929bcc8ccb5fdf72cfa-1" name="rest_code_74497dc970264929bcc8ccb5fdf72cfa-1"></a><span class="c1">## hard limit</span>
<a id="rest_code_74497dc970264929bcc8ccb5fdf72cfa-2" name="rest_code_74497dc970264929bcc8ccb5fdf72cfa-2"></a>kullanici1        hard nofile <span class="m">10000</span>
<a id="rest_code_74497dc970264929bcc8ccb5fdf72cfa-3" name="rest_code_74497dc970264929bcc8ccb5fdf72cfa-3"></a><span class="c1">## soft limit</span>
<a id="rest_code_74497dc970264929bcc8ccb5fdf72cfa-4" name="rest_code_74497dc970264929bcc8ccb5fdf72cfa-4"></a>kullanici1        soft nofile <span class="m">5000</span>
</pre>
<p>Yaptiginiz degisikligin aktif olmasi icin cikis yapip tekrar giris yapmaniz gereklidir.</p>
<p><strong>Senaryo olusturma</strong></p>
<p>Locust icin cesitli senaryolar yazabilirsiniz. Iki basit ornek verelim.</p>
<p><em>Ornek 1:</em> Websitenizin anasayfasini ve hakkimda sayfalarini test etmek icin load-testing senaryosu yazalim.</p>
<pre class="code python"><a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-1" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-1"></a><span class="kn">from</span> <span class="nn">locust</span> <span class="kn">import</span> <span class="n">HttpLocust</span><span class="p">,</span> <span class="n">TaskSet</span><span class="p">,</span> <span class="n">task</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-2" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-2"></a>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-3" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-3"></a><span class="k">class</span> <span class="nc">MyTaskSet</span><span class="p">(</span><span class="n">TaskSet</span><span class="p">):</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-4" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-4"></a>     <span class="nd">@task</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-5" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-5"></a>     <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-6" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-6"></a>             <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-7" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-7"></a>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-8" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-8"></a>     <span class="nd">@task</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-9" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-9"></a>     <span class="k">def</span> <span class="nf">about</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-10" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-10"></a>             <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"/hakkinda/"</span><span class="p">)</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-11" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-11"></a>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-12" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-12"></a><span class="k">class</span> <span class="nc">MyLocust</span><span class="p">(</span><span class="n">HttpLocust</span><span class="p">):</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-13" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-13"></a>     <span class="n">task_set</span> <span class="o">=</span> <span class="n">MyTaskSet</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-14" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-14"></a>     <span class="n">min_wait</span> <span class="o">=</span> <span class="mi">5000</span>
<a id="rest_code_39700696e2c44b6c8f926ec920fc5b19-15" name="rest_code_39700696e2c44b6c8f926ec920fc5b19-15"></a>     <span class="n">max_wait</span> <span class="o">=</span> <span class="mi">15000</span>
</pre>
<p>'min_wait' ve 'max_wait' degerleri simule eden kullanicilarin bu sureler arasinda istek yapmasini gosterir.</p>
<p><em>Ornek 2:</em> Websitenizin login sayfasina kullanici ile giris yapip, anasayfasini ve profile sayfasini test senaryosu yazalim.</p>
<pre class="code python"><a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-1" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-1"></a><span class="kn">from</span> <span class="nn">locust</span> <span class="kn">import</span> <span class="n">HttpLocust</span><span class="p">,</span> <span class="n">TaskSet</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-2" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-2"></a>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-3" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-3"></a><span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-4" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-4"></a>     <span class="n">l</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">"/login"</span><span class="p">,</span> <span class="p">{</span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"ellen_key"</span><span class="p">,</span> <span class="s2">"password"</span><span class="p">:</span><span class="s2">"education"</span><span class="p">})</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-5" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-5"></a>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-6" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-6"></a><span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-7" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-7"></a>     <span class="n">l</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-8" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-8"></a>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-9" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-9"></a><span class="k">def</span> <span class="nf">profile</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-10" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-10"></a>     <span class="n">l</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"/profile"</span><span class="p">)</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-11" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-11"></a>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-12" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-12"></a><span class="k">class</span> <span class="nc">UserBehavior</span><span class="p">(</span><span class="n">TaskSet</span><span class="p">):</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-13" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-13"></a>     <span class="n">tasks</span> <span class="o">=</span> <span class="p">{</span><span class="n">index</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">profile</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-14" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-14"></a>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-15" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-15"></a>     <span class="k">def</span> <span class="nf">on_start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-16" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-16"></a>             <span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-17" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-17"></a>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-18" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-18"></a><span class="k">class</span> <span class="nc">WebsiteUser</span><span class="p">(</span><span class="n">HttpLocust</span><span class="p">):</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-19" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-19"></a>     <span class="n">task_set</span> <span class="o">=</span> <span class="n">UserBehavior</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-20" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-20"></a>     <span class="n">min_wait</span> <span class="o">=</span> <span class="mi">5000</span>
<a id="rest_code_cafa60f1e59942e7b2905c67d12a95db-21" name="rest_code_cafa60f1e59942e7b2905c67d12a95db-21"></a>     <span class="n">max_wait</span> <span class="o">=</span> <span class="mi">9000</span>
</pre>
<p><strong>Load-Testing Yapmak</strong></p>
<p>Locust ile yazdigimiz senaryolar ile load-testing yapmak icin;</p>
<pre class="code bash"><a id="rest_code_7dd7eade1e66489c939346862540cdda-1" name="rest_code_7dd7eade1e66489c939346862540cdda-1"></a>$ locust --host<span class="o">=</span>http://example.com
</pre>
<p>ya da yazdigimiz senaryo dosyasinin yolunu belirterek;</p>
<pre class="code bash"><a id="rest_code_5971e89cb72142b8987a38fd0ccd2169-1" name="rest_code_5971e89cb72142b8987a38fd0ccd2169-1"></a>$ locust -f locust_files/my_locust_file.py --host<span class="o">=</span>http://example.com
</pre>
<p>Test basladiktan sonra tarayiciniza 'localhost:8089' yazarak kullanicilari simule edip testinizi izleyebilirsiniz.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/freeipa-ve-active-directory-entegrasyonu/" class="u-url">FreeIPA ve Active Directory Entegrasyonu</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/freeipa-ve-active-directory-entegrasyonu/" rel="bookmark">
            <time class="published dt-published" datetime="2017-01-22T17:20:37+03:00" itemprop="datePublished" title="2017-01-22 17:20">2017-01-22 17:20</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/freeipa-ve-active-directory-entegrasyonu/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <dl class="simple">
<dt><strong>Kurulum oncesi hazirlik:</strong></dt>
<dd><ol class="arabic simple">
<li><dl class="simple">
<dt>FreeIPA Server 4.4.0-14 ( CentOS 7 )</dt>
<dd><ul class="simple">
<li><p>IPA Server IP Adresi: 172.16.183.128</p></li>
<li><p>IPA Server Hostname: ipaserver.piesso.local</p></li>
<li><p>IPA Domain: piesso.local</p></li>
<li><p>IPA Netbios: PIESSO</p></li>
<li><p>IPA Kerberos realm: PIESSO.LOCAL</p></li>
</ul></dd>
</dl></li>
<li><dl class="simple">
<dt>Windows Server 2012 R2</dt>
<dd><ul class="simple">
<li><p>Active Directory IP Adresi: 172.16.183.132</p></li>
<li><p>Active Directory Hostname: ad.pencere.local</p></li>
<li><p>Active Directory Domain: pencere.local</p></li>
<li><p>Active Directory Netbios: PENCERE</p></li>
</ul></dd>
</dl></li>
</ol></dd>
</dl>
<p>Windows Server 2012 R2 ve FreeIPA icin kerberos ticket vs gibi sorunlar yasanmamasi icin ntp ile zaman esitlemesi mutlaka baslatilmalidir. FreeIPA kurulumunda ontanimli olarak ntp client "time sync" islemini ntp pool'larindan alarak esitlemektedir. Fakat Windows Server 2012 R2 uzerinde de bunu yapmak icin manuel ntp pool sunucularini girip zaman servisini yeniden baslatilmasi gerekmektedir.</p>
<aside class="admonition warning"><p class="admonition-title">Warning</p>
<p>2016 Bakanlar Kurulu karari ile yaz saati uygulamasi sona erdigi icin zaman diliminin "+3" oldugunu kontrol edin.</p>
</aside><p><em>(Powershell uzerinde)</em></p>
<pre class="code powershell"><a id="rest_code_7afcf7e70e0f4749b5fdc95b55091219-1" name="rest_code_7afcf7e70e0f4749b5fdc95b55091219-1"></a><span class="p">&gt;</span> <span class="n">net</span> <span class="n">stop</span> <span class="n">w32time</span>
<a id="rest_code_7afcf7e70e0f4749b5fdc95b55091219-2" name="rest_code_7afcf7e70e0f4749b5fdc95b55091219-2"></a><span class="p">&gt;</span> <span class="n">w32tm</span> <span class="p">/</span><span class="n">config</span> <span class="p">/</span><span class="n">syncfromflags</span><span class="p">:</span><span class="n">manual</span> <span class="p">/</span><span class="n">manualpeerlist</span><span class="p">:</span><span class="n">0</span><span class="p">.</span><span class="n">centos</span><span class="p">.</span><span class="n">pool</span><span class="p">.</span><span class="n">ntp</span><span class="p">.</span><span class="n">org</span><span class="p">,</span> <span class="n">1</span><span class="p">.</span><span class="n">centos</span><span class="p">.</span><span class="n">pool</span><span class="p">.</span><span class="n">ntp</span><span class="p">.</span><span class="n">org</span><span class="p">,</span> <span class="n">2</span><span class="p">.</span><span class="n">centos</span><span class="p">.</span><span class="n">pool</span><span class="p">.</span><span class="n">ntp</span><span class="p">.</span><span class="n">org</span><span class="err">‚Äù</span>
<a id="rest_code_7afcf7e70e0f4749b5fdc95b55091219-3" name="rest_code_7afcf7e70e0f4749b5fdc95b55091219-3"></a><span class="p">&gt;</span> <span class="n">w32tm</span> <span class="p">/</span><span class="n">config</span> <span class="p">/</span><span class="n">reliable</span><span class="p">:</span><span class="n">yes</span>
<a id="rest_code_7afcf7e70e0f4749b5fdc95b55091219-4" name="rest_code_7afcf7e70e0f4749b5fdc95b55091219-4"></a><span class="p">&gt;</span> <span class="n">net</span> <span class="nb">start </span><span class="n">w32time</span>
</pre>
<p><strong>FreeIPA ve Active Directory Cross-Realm Trust:</strong></p>
<ul class="simple">
<li><p>Ilk olarak "ipa-adtrust-install" paketini repodan kuralim:</p></li>
</ul>
<pre class="code bash"><a id="rest_code_f64302c937ad4238a2b9d786c795492a-1" name="rest_code_f64302c937ad4238a2b9d786c795492a-1"></a><span class="c1"># yum install ipa-adtrust-install</span>
</pre>
<ul class="simple">
<li><p>IPA Server uzerinde cross-realm islemi icin:</p></li>
</ul>
<pre class="code bash"><a id="rest_code_949e2ffa089d4e16b28a67ea92477537-1" name="rest_code_949e2ffa089d4e16b28a67ea92477537-1"></a><span class="c1"># ipa-adtrust-install --netbios-name=PIESSO -a password</span>
</pre>
<p><strong>Firewall Konfigurasyonu:</strong></p>
<p>Windows Server uzerinde firewall uzerindeki kurallar otomatik olarak ekleniyor. Fakat IPA Server uzerinde asagidaki portlarin acik olmasi gerekmektedir.</p>
<pre class="code console"><a id="rest_code_c602bfe566ba4f0994f1d5dd56c41cf2-1" name="rest_code_c602bfe566ba4f0994f1d5dd56c41cf2-1"></a><span class="go">TCP ports: 80, 88, 443, 389, 636, 88, 464, 53, 135, 138, 139, 445, 1024-1300</span>
<a id="rest_code_c602bfe566ba4f0994f1d5dd56c41cf2-2" name="rest_code_c602bfe566ba4f0994f1d5dd56c41cf2-2"></a><span class="go">UDP ports: 88, 464, 53, 123, 138, 139, 389, 445</span>
</pre>
<p>Centos 7 ile birlikte gelen firewall manager firewalld spesifik servisleri acmak icin halen yetersiz oldugu icin bunu disabled edip yerine klasik iptables'i aktif edelim:</p>
<pre class="code bash"><a id="rest_code_bd8340030b2748229584ec664d0ad881-1" name="rest_code_bd8340030b2748229584ec664d0ad881-1"></a><span class="c1"># systemctl disable firewalld</span>
<a id="rest_code_bd8340030b2748229584ec664d0ad881-2" name="rest_code_bd8340030b2748229584ec664d0ad881-2"></a><span class="c1"># systemctl stop firewalld</span>
<a id="rest_code_bd8340030b2748229584ec664d0ad881-3" name="rest_code_bd8340030b2748229584ec664d0ad881-3"></a><span class="c1"># yum install -y iptables-services</span>
<a id="rest_code_bd8340030b2748229584ec664d0ad881-4" name="rest_code_bd8340030b2748229584ec664d0ad881-4"></a><span class="c1"># systemctl enable iptables</span>
</pre>
<p>"/etc/sysconfig/iptables" dosyasina gerekli olan portlari acmak icin kurallarimizi girelim:</p>
<pre class="code console"><a id="rest_code_317d88750e3d4b26988d64711564cc55-1" name="rest_code_317d88750e3d4b26988d64711564cc55-1"></a><span class="go">\*filter</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-2" name="rest_code_317d88750e3d4b26988d64711564cc55-2"></a><span class="go">:INPUT ACCEPT [0:0]</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-3" name="rest_code_317d88750e3d4b26988d64711564cc55-3"></a><span class="go">:FORWARD ACCEPT [0:0]</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-4" name="rest_code_317d88750e3d4b26988d64711564cc55-4"></a><span class="go">:OUTPUT ACCEPT [0:0]</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-5" name="rest_code_317d88750e3d4b26988d64711564cc55-5"></a><span class="go">-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-6" name="rest_code_317d88750e3d4b26988d64711564cc55-6"></a><span class="go">-A INPUT -p icmp -j ACCEPT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-7" name="rest_code_317d88750e3d4b26988d64711564cc55-7"></a><span class="go">-A INPUT -i lo -j ACCEPT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-8" name="rest_code_317d88750e3d4b26988d64711564cc55-8"></a><span class="go">-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-9" name="rest_code_317d88750e3d4b26988d64711564cc55-9"></a><span class="go">-A INPUT -s ad_ip_address -p tcp -m multiport --dports 389,636 -m state --state NEW,ESTABLISHED -j REJECT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-10" name="rest_code_317d88750e3d4b26988d64711564cc55-10"></a><span class="go">-A INPUT -p tcp -m multiport --dports 80,88,443,389,636,88,464,53,138,139,445 -m state --state NEW,ESTABLISHED -j ACCEPT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-11" name="rest_code_317d88750e3d4b26988d64711564cc55-11"></a><span class="go">-A INPUT -p udp -m multiport --dports 88,464,53,123,138,139,389,445 -m state --state NEW,ESTABLISHED -j ACCEPT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-12" name="rest_code_317d88750e3d4b26988d64711564cc55-12"></a><span class="go">-A INPUT -p udp -j REJECT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-13" name="rest_code_317d88750e3d4b26988d64711564cc55-13"></a><span class="go">-A INPUT -p tcp -j REJECT</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-14" name="rest_code_317d88750e3d4b26988d64711564cc55-14"></a><span class="go">-A FORWARD -j REJECT --reject-with icmp-host-prohibited</span>
<a id="rest_code_317d88750e3d4b26988d64711564cc55-15" name="rest_code_317d88750e3d4b26988d64711564cc55-15"></a><span class="go">COMMIT</span>
</pre>
<p>Iptables servisini baslatabiliriz:</p>
<pre class="code bash"><a id="rest_code_871b4cfe247a410ba109c0f2efa02e51-1" name="rest_code_871b4cfe247a410ba109c0f2efa02e51-1"></a><span class="c1"># systemctl start iptables</span>
</pre>
<p><strong>DNS Forward Zone:</strong></p>
<p>Active Directory ve FreeIPA'yi inbound ve outbound trust olarak isaretlemeden DNS Forward Zone'lari ekleyelim.</p>
<ul class="simple">
<li><p>Windows Server 2012 R2 uzerinde:</p></li>
</ul>
<pre class="code powershell"><a id="rest_code_9a984f55d7044824b0923967727c0f5b-1" name="rest_code_9a984f55d7044824b0923967727c0f5b-1"></a><span class="p">&gt;</span> <span class="n">dnscmd</span> <span class="n">127</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">1</span> <span class="p">/</span><span class="n">ZoneAdd</span> <span class="n">piesso</span><span class="p">.</span><span class="n">local</span> <span class="p">/</span><span class="n">Forwarder</span> <span class="n">172</span><span class="p">.</span><span class="n">16</span><span class="p">.</span><span class="n">183</span><span class="p">.</span><span class="n">128</span>
</pre>
<ul class="simple">
<li><p>FreeIPA Server uzerinde:</p></li>
</ul>
<pre class="code bash"><a id="rest_code_fe67551074da4b5fa054b30fcbbe5e6b-1" name="rest_code_fe67551074da4b5fa054b30fcbbe5e6b-1"></a><span class="c1"># ipa dnsforwardzone-add pencere.local --forwarder=172.16.183.132 --forward-policy=only</span>
</pre>
<ul class="simple">
<li><p>Forwarder DNS zone'larin dogru sekilde eklenip eklenmedigi iki tarafta da kontrol edelim:</p></li>
</ul>
<p><em>Windows Server 2012 R2 (PowerShell):</em></p>
<pre class="code powershell"><a id="rest_code_3a9ebbaf58564539ab71991e1c643894-1" name="rest_code_3a9ebbaf58564539ab71991e1c643894-1"></a><span class="p">&gt;</span> <span class="n">nslookup</span>
<a id="rest_code_3a9ebbaf58564539ab71991e1c643894-2" name="rest_code_3a9ebbaf58564539ab71991e1c643894-2"></a><span class="p">&gt;</span> <span class="nb">set </span><span class="n">type</span><span class="p">=</span><span class="n">srv</span>
<a id="rest_code_3a9ebbaf58564539ab71991e1c643894-3" name="rest_code_3a9ebbaf58564539ab71991e1c643894-3"></a><span class="p">&gt;</span> <span class="n">_ldap</span><span class="p">.</span><span class="n">_tcp</span><span class="p">.</span><span class="n">ad_domain</span>
<a id="rest_code_3a9ebbaf58564539ab71991e1c643894-4" name="rest_code_3a9ebbaf58564539ab71991e1c643894-4"></a><span class="p">&gt;</span> <span class="n">_ldap</span><span class="p">.</span><span class="n">_tcp</span><span class="p">.</span><span class="n">ipa_domain</span>
<a id="rest_code_3a9ebbaf58564539ab71991e1c643894-5" name="rest_code_3a9ebbaf58564539ab71991e1c643894-5"></a><span class="p">&gt;</span> <span class="n">quit</span>
</pre>
<ul class="simple">
<li><p>FreeIPA Server uzerinde:</p></li>
</ul>
<pre class="code bash"><a id="rest_code_3396a6965fa84cc2895936ee19357dfd-1" name="rest_code_3396a6965fa84cc2895936ee19357dfd-1"></a><span class="c1"># dig SRV _ldap._tcp.ipa_domain</span>
<a id="rest_code_3396a6965fa84cc2895936ee19357dfd-2" name="rest_code_3396a6965fa84cc2895936ee19357dfd-2"></a><span class="c1"># dig SRV _ldap._tcp.ad_domain</span>
</pre>
<p><strong>Cross-Realm Trust:</strong></p>
<p>Freeipa ile Active Directory arasinda "Two-way trust" konfigurasyonu:</p>
<pre class="code bash"><a id="rest_code_cf00f9fc9fd844c7bc2a8a2d86cd8b83-1" name="rest_code_cf00f9fc9fd844c7bc2a8a2d86cd8b83-1"></a><span class="c1"># ipa trust-add --type=ad pencere.local --admin Administrator --password --two-way=true</span>
</pre>
<p>"Two-way trust" baglantisinin basarili sekilde kurulup kurulmadigini kontrol edelim:</p>
<pre class="code bash"><a id="rest_code_e03bf3571de540a7a7fc031959f04829-1" name="rest_code_e03bf3571de540a7a7fc031959f04829-1"></a><span class="c1"># ipa trust-fetch-domains "pencere.local"</span>
<a id="rest_code_e03bf3571de540a7a7fc031959f04829-2" name="rest_code_e03bf3571de540a7a7fc031959f04829-2"></a><span class="c1"># ipa trustdomain-find "pencere.local"</span>
</pre>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ipa-client-kurulumu/" class="u-url">IPA Client Kurulumu</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/ipa-client-kurulumu/" rel="bookmark">
            <time class="published dt-published" datetime="2017-01-22T16:24:47+03:00" itemprop="datePublished" title="2017-01-22 16:24">2017-01-22 16:24</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/ipa-client-kurulumu/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <dl>
<dt><strong>Kullanilan yazilimlar:</strong></dt>
<dd><ul>
<li>
<p>Centos Linux 7.2</p>
<blockquote>
<ul class="simple">
<li><p>ipa-client</p></li>
<li><p>ipa-admin-tools</p></li>
</ul>
</blockquote>
</li>
</ul></dd>
</dl>
<p><strong>Kurulum Oncesi Hazirlik:</strong></p>
<pre class="code bash"><a id="rest_code_8c1b4bc6aed643f1a863163cbcedf578-1" name="rest_code_8c1b4bc6aed643f1a863163cbcedf578-1"></a><span class="nv">FQDN</span> <span class="o">=</span> ipaclient.piesso.local
<a id="rest_code_8c1b4bc6aed643f1a863163cbcedf578-2" name="rest_code_8c1b4bc6aed643f1a863163cbcedf578-2"></a><span class="nv">IP</span> <span class="o">=</span> <span class="m">172</span>.16.183.135/24
<a id="rest_code_8c1b4bc6aed643f1a863163cbcedf578-3" name="rest_code_8c1b4bc6aed643f1a863163cbcedf578-3"></a>IPA <span class="nv">Server</span> <span class="o">=</span> ipa.piesso.local
<a id="rest_code_8c1b4bc6aed643f1a863163cbcedf578-4" name="rest_code_8c1b4bc6aed643f1a863163cbcedf578-4"></a>IPA <span class="nv">DOMAIN</span> <span class="o">=</span> piesso.local
<a id="rest_code_8c1b4bc6aed643f1a863163cbcedf578-5" name="rest_code_8c1b4bc6aed643f1a863163cbcedf578-5"></a>IPA <span class="nv">NETBIOS</span> <span class="o">=</span> PIESSO
</pre>
<p>Kuruluma  baslamadan once kontrol edilmesi gerekenler;</p>
<blockquote>
<ol class="arabic simple">
<li><p>Hostname</p></li>
<li><p>/etc/hosts</p></li>
<li><p>Sistem update</p></li>
</ol>
</blockquote>
<p><em>Hostname:</em></p>
<pre class="code bash"><a id="rest_code_8e65a148cb904375a918b265de68badd-1" name="rest_code_8e65a148cb904375a918b265de68badd-1"></a><span class="c1"># hostnamectl set-hostname ipaclient.piesso.local</span>
</pre>
<p><em>/etc/hosts:</em></p>
<pre class="code bash"><a id="rest_code_d6f2c68fa150425cb4d1e1cd4254d27a-1" name="rest_code_d6f2c68fa150425cb4d1e1cd4254d27a-1"></a><span class="m">172</span>.16.183.135 ipaclient.piesso.local ipaclient
<a id="rest_code_d6f2c68fa150425cb4d1e1cd4254d27a-2" name="rest_code_d6f2c68fa150425cb4d1e1cd4254d27a-2"></a><span class="m">172</span>.16.183.128 ipa.piesso.local
</pre>
<p><em>Sistem update:</em></p>
<pre class="code bash"><a id="rest_code_ed15c32af4cc405b9848d20aae2b3af9-1" name="rest_code_ed15c32af4cc405b9848d20aae2b3af9-1"></a><span class="c1"># yum update -y</span>
</pre>
<p><strong>Kurulum:</strong></p>
<ul class="simple">
<li><p>ipa-client ve ipa-admintools yazilimlarinin repodan kurulmasi;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_52c9edb869d54a03a5f1f40527214d85-1" name="rest_code_52c9edb869d54a03a5f1f40527214d85-1"></a><span class="c1"># yum install ipa-client ipa-admintools</span>
</pre>
<ul class="simple">
<li><p>ipa-client kurulumu;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_a4826f6fbd0742e69580afa1ebb94fb8-1" name="rest_code_a4826f6fbd0742e69580afa1ebb94fb8-1"></a><span class="c1"># ipa-client-install --domain PIESSO.LOCAL --server ipa.piesso.local --realm PIESSO -p host/ipa.piesso.local --enable-dns-updates --force-ntpd</span>
</pre>
<p><strong>IPA Client ve Kerberos Ticket Testi:</strong></p>
<ul class="simple">
<li><p>FreeIpa sunucusundaki admin kullanicisi ve parolasi ile giris yapin;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_b3a9d7eef8fe4e45ba5a29a966b530db-1" name="rest_code_b3a9d7eef8fe4e45ba5a29a966b530db-1"></a><span class="c1"># getent passwd admin</span>
<a id="rest_code_b3a9d7eef8fe4e45ba5a29a966b530db-2" name="rest_code_b3a9d7eef8fe4e45ba5a29a966b530db-2"></a><span class="c1"># getent group admins</span>
</pre>
<ul class="simple">
<li><p>Kerberos'tan ticket alimi;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_30e8bc7ecfd04540b59045b6374ec6d5-1" name="rest_code_30e8bc7ecfd04540b59045b6374ec6d5-1"></a><span class="c1"># kinit admin</span>
</pre>
<ul class="simple">
<li><p>Ticketin basarili alinip alinmadigi kontrolu;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_2703686c04fd4119bf9ad6ca29484ee1-1" name="rest_code_2703686c04fd4119bf9ad6ca29484ee1-1"></a><span class="c1"># klist</span>
</pre>
<ul class="simple">
<li><p>Hersey saglam gorunuyorsa client dns'lerini FreeIPA Server adresine donusturulmesi;</p></li>
</ul>
<p><em>/etc/resolv.conf:</em></p>
<pre class="code bash"><a id="rest_code_61feca41f66441b2a80dd294a4254dae-1" name="rest_code_61feca41f66441b2a80dd294a4254dae-1"></a>search piesso.local
<a id="rest_code_61feca41f66441b2a80dd294a4254dae-2" name="rest_code_61feca41f66441b2a80dd294a4254dae-2"></a>nameserver <span class="m">172</span>.16.183.128
</pre>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/centos-7-uzerine-freeipa-kurulumu/" class="u-url">Centos 7 uzerine FreeIPA Kurulumu</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/centos-7-uzerine-freeipa-kurulumu/" rel="bookmark">
            <time class="published dt-published" datetime="2017-01-21T22:15:13+03:00" itemprop="datePublished" title="2017-01-21 22:15">2017-01-21 22:15</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/centos-7-uzerine-freeipa-kurulumu/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><strong>Kullanilan yazilimlar:</strong></p>
<ul class="simple">
<li><p>Centos Linux 7.2</p></li>
<li><p>ipa-server 4.2.0</p></li>
<li><p>ipa-server-dns 4.2.0</p></li>
<li><p>bind-dyndb-ldap 8.0</p></li>
<li><p>bind 9.9.4</p></li>
</ul>
<p><strong>Kurulum Oncesi Hazirlik:</strong></p>
<dl class="field-list simple">
<dt>FQDN<span class="colon">:</span>
</dt>
<dd>
<p>ipa.piesso.local</p>
</dd>
<dt>IP<span class="colon">:</span>
</dt>
<dd>
<p>172.16.183.128/24</p>
</dd>
<dt>IPA DOMAIN<span class="colon">:</span>
</dt>
<dd>
<p>piesso.local</p>
</dd>
<dt>IPA NETBIOS<span class="colon">:</span>
</dt>
<dd>
<p>PIESSO</p>
</dd>
</dl>
<p>Kuruluma  baslamadan once kontrol edilmesi gerekenler;</p>
<ol class="arabic simple">
<li><p>Hostname</p></li>
<li><p>/etc/hosts</p></li>
<li><p>Statik IP</p></li>
<li><p>Sistem update</p></li>
</ol>
<p><em>1. Hostname:</em></p>
<pre class="code bash"><a id="rest_code_d84b9987d6b94ff1a2e0579b1776a1fb-1" name="rest_code_d84b9987d6b94ff1a2e0579b1776a1fb-1"></a><span class="c1"># hostnamectl set-hostname ipa.piesso.local</span>
</pre>
<p><em>2. /etc/hosts:</em></p>
<pre class="code bash"><a id="rest_code_0c244238384a4a5d87d58d04508b1704-1" name="rest_code_0c244238384a4a5d87d58d04508b1704-1"></a><span class="m">172</span>.16.183.128 ipa.piesso.local ipa
</pre>
<p><em>3. Statik IP:</em></p>
<p>Ornek statik ip konfigurasyonu "/etc/sysconfig/network-scripts/ifcfg-xxxx"</p>
<pre class="code bash"><a id="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-1" name="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-1"></a><span class="nv">ONBOOT</span><span class="o">=</span> yes
<a id="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-2" name="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-2"></a><span class="nv">BOOTPROTO</span><span class="o">=</span> none
<a id="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-3" name="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-3"></a><span class="nv">IPADDR</span><span class="o">=</span> <span class="m">172</span>.16.183.128
<a id="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-4" name="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-4"></a><span class="nv">PREFIX</span><span class="o">=</span> <span class="m">24</span>
<a id="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-5" name="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-5"></a><span class="nv">GATEWAY</span><span class="o">=</span> <span class="m">172</span>.16.183.2
<a id="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-6" name="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-6"></a><span class="nv">DNS1</span><span class="o">=</span> <span class="m">8</span>.8.8.8
<a id="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-7" name="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-7"></a><span class="nv">DNS2</span><span class="o">=</span> <span class="m">8</span>.8.4.4
<a id="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-8" name="rest_code_cd9a3e9e7dec42e2bde1e988e3cb027b-8"></a><span class="nv">DEFROUTE</span><span class="o">=</span> yes
</pre>
<p><em>4. Sistem update:</em></p>
<pre class="code bash"><a id="rest_code_8b08cab7a2f14a3fb8d2bc4c33d09b79-1" name="rest_code_8b08cab7a2f14a3fb8d2bc4c33d09b79-1"></a><span class="c1"># yum update -y</span>
</pre>
<p><strong>Kurulum:</strong></p>
<ul class="simple">
<li><p>ipa-server, integrated dns, ad trust  ve ldap back-end plugin yazilimlarinin repodan kurulmasi;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_a3efad5dcf844e46ade3ebe5b48a2cbb-1" name="rest_code_a3efad5dcf844e46ade3ebe5b48a2cbb-1"></a><span class="c1"># yum install ipa-server ipa-server-dns bind-dyndb-ldap ipa-server-trust-ad</span>
</pre>
<ul class="simple">
<li><p>ipa-server kurulumu;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_44b24e07436647b3a6832c2cab340188-1" name="rest_code_44b24e07436647b3a6832c2cab340188-1"></a><span class="c1"># ipa-server-install -a IpaAdminpassword -p IpaManagerpassword --domain=piesso.local --realm=piesso.local --setup-dns --no-forwarders -U</span>
</pre>
<ul class="simple">
<li><p>ipa-server kurulumu asagidaki sekilde basari ile biterse firewalld daemonuna gerekli port izinlerinin verilmesi;</p></li>
</ul>
<pre class="code console"><a id="rest_code_0c85d718d4764c42ac383e23ea664b57-1" name="rest_code_0c85d718d4764c42ac383e23ea664b57-1"></a><span class="go">Restarting the web server</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-2" name="rest_code_0c85d718d4764c42ac383e23ea664b57-2"></a><span class="go">==============================================================================</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-3" name="rest_code_0c85d718d4764c42ac383e23ea664b57-3"></a><span class="go">Setup complete</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-4" name="rest_code_0c85d718d4764c42ac383e23ea664b57-4"></a>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-5" name="rest_code_0c85d718d4764c42ac383e23ea664b57-5"></a><span class="go">Next steps:</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-6" name="rest_code_0c85d718d4764c42ac383e23ea664b57-6"></a><span class="go">      1. You must make sure these network ports are open:</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-7" name="rest_code_0c85d718d4764c42ac383e23ea664b57-7"></a><span class="go">                 TCP Ports:</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-8" name="rest_code_0c85d718d4764c42ac383e23ea664b57-8"></a><span class="go">                   * 80, 443: HTTP/HTTPS</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-9" name="rest_code_0c85d718d4764c42ac383e23ea664b57-9"></a><span class="go">                   * 389, 636: LDAP/LDAPS</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-10" name="rest_code_0c85d718d4764c42ac383e23ea664b57-10"></a><span class="go">                   * 88, 464: kerberos</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-11" name="rest_code_0c85d718d4764c42ac383e23ea664b57-11"></a><span class="go">                   * 53: bind</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-12" name="rest_code_0c85d718d4764c42ac383e23ea664b57-12"></a><span class="go">                 UDP Ports:</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-13" name="rest_code_0c85d718d4764c42ac383e23ea664b57-13"></a><span class="go">                   * 88, 464: kerberos</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-14" name="rest_code_0c85d718d4764c42ac383e23ea664b57-14"></a><span class="go">                   * 53: bind</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-15" name="rest_code_0c85d718d4764c42ac383e23ea664b57-15"></a><span class="go">                   * 123: ntp</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-16" name="rest_code_0c85d718d4764c42ac383e23ea664b57-16"></a><span class="go">      2. You can now obtain a kerberos ticket using the command: 'kinit admin'</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-17" name="rest_code_0c85d718d4764c42ac383e23ea664b57-17"></a><span class="go">         This ticket will allow you to use the IPA tools (e.g., ipa user-add)</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-18" name="rest_code_0c85d718d4764c42ac383e23ea664b57-18"></a><span class="go">         and the web user interface.</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-19" name="rest_code_0c85d718d4764c42ac383e23ea664b57-19"></a>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-20" name="rest_code_0c85d718d4764c42ac383e23ea664b57-20"></a><span class="go">Be sure to back up the CA certificate stored in /root/cacert.p12</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-21" name="rest_code_0c85d718d4764c42ac383e23ea664b57-21"></a><span class="go">This file is required to create replicas. The password for this</span>
<a id="rest_code_0c85d718d4764c42ac383e23ea664b57-22" name="rest_code_0c85d718d4764c42ac383e23ea664b57-22"></a><span class="go">file is the Directory Manager password</span>
</pre>
<pre class="code bash"><a id="rest_code_b1c8895fa6b04f6bb7c58acacff916bb-1" name="rest_code_b1c8895fa6b04f6bb7c58acacff916bb-1"></a><span class="c1"># firewall-cmd --permanent --add-service={http,https,ldap,ldaps,kerberos,dns,kpasswd,ntp}</span>
<a id="rest_code_b1c8895fa6b04f6bb7c58acacff916bb-2" name="rest_code_b1c8895fa6b04f6bb7c58acacff916bb-2"></a><span class="c1"># firewall-cmd --reload</span>
</pre>
<ul class="simple">
<li><p>Firewall kurallarinin kontrol edilmesi;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_6f4eea79e79545a599df042ffdf68824-1" name="rest_code_6f4eea79e79545a599df042ffdf68824-1"></a><span class="c1"># firewall-cmd --list-services</span>
</pre>
<p><strong>IPA Server ve Kerberos Ticket Testi:</strong></p>
<ul class="simple">
<li><p>Kerberos'tan ticket alimi;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_33a7dc5559bd4a38b93d39ab3db9fd68-1" name="rest_code_33a7dc5559bd4a38b93d39ab3db9fd68-1"></a><span class="c1"># kinit admin</span>
</pre>
<ul class="simple">
<li><p>Ticketin basarili alinip alinmadigi kontrolu;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_9b8efe5234ad45f1810b92631d95f5f0-1" name="rest_code_9b8efe5234ad45f1810b92631d95f5f0-1"></a><span class="c1"># klist</span>
</pre>
<ul class="simple">
<li><p>ipa-server servislerinin kontrolu;</p></li>
</ul>
<pre class="code bash"><a id="rest_code_8e7418a618d847b98ab59ffc3a1b3424-1" name="rest_code_8e7418a618d847b98ab59ffc3a1b3424-1"></a><span class="c1"># ipactl status</span>
</pre>
<ul class="simple">
<li><p>Hersey saglam gorunuyorsa sunucu dnslerini local adrese donusturulmesi;</p></li>
</ul>
<p><em>/etc/resolv.conf:</em></p>
<pre class="code bash"><a id="rest_code_586ca090263a4a37b6f62a75721330ef-1" name="rest_code_586ca090263a4a37b6f62a75721330ef-1"></a>search piesso.local
<a id="rest_code_586ca090263a4a37b6f62a75721330ef-2" name="rest_code_586ca090263a4a37b6f62a75721330ef-2"></a>nameserver <span class="m">127</span>.0.0.1
</pre>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/linux-yaz-kampi-2014/" class="u-url">Linux Yaz Kampi 2014</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/linux-yaz-kampi-2014/" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-26T18:31:57+03:00" itemprop="datePublished" title="2014-07-26 18:31">2014-07-26 18:31</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/linux-yaz-kampi-2014/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p></p>
<p>Ilki 2010 yilinda Isik Universitesi'nde baslayan Linux Yaz Kampi, bu yil 3.defa Bolu Abant Izzet Baysal Universitesi ev sahipliginde 11-23 Agustos tarihleri arasinda yapilacak.
</p>
<ol>
<li>Linux Yaz Kampi ( 2010 - Isik Universitesi )</li>
    <li>Linux Yaz Kampi ( 2011 - Duzce Universitesi )</li>
    <li>Linux Yaz Kampi ( 2012 - Bolu Abant Izzet Baysal Universitesi )</li>
    <li>Linux Yaz Kampi ( 2013 -¬†Bolu Abant Izzet Baysal Universitesi )</li>
    <li>Linux Yaz Kampi ( 2014 -¬†Bolu Abant Izzet Baysal Universitesi )</li>
</ol>
Sadece bir sinif ve 20-30 kisi ile baslayan Linux Yaz Kampi, artik 10'u askin siniflarda 2 seviyede Linux Sistem Yonetimi, php-ruby-java egitimleri ve yuzlerce kisinin katilimiyla buyumeye devam ediyor. Bu yilki basvurularin kapanmasina az sure kalmis iken 1000'i askin basvuru yapildi. Ayrica bu yil ki yaz kampina uc farkli egitim eklendi:
<ul>
<li>Python/Django ile Web Programlama</li>
    <li>Web Uygulama Guvenligi ve Guvenli Kod Gelistirme</li>
    <li>Tersine Muhendislik</li>
</ul>
<p>Yeni eklenen bu egitimler ile beraber toplam 8 kurs bulunuyor. Bu yilda guzel, eglenceli ve verimli yaz kampi olmasi dilegiyle.</p>
<p>Linux Yaz Kampi icin detayli bilgi icin <a href="http://kamp.linux.org.tr/2014/" target="_blank">tiklayin</a>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/gentoo-ve-systemd/" class="u-url">Gentoo ve Systemd</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/gentoo-ve-systemd/" rel="bookmark">
            <time class="published dt-published" datetime="2013-10-22T09:24:38+03:00" itemprop="datePublished" title="2013-10-22 09:24">2013-10-22 09:24</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/gentoo-ve-systemd/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p></p>
<p>Systemd b√ºy√ºk bir hƒ±zla ,√∂ncelikle g√ºncel linux daƒüƒ±tƒ±mlarƒ±nda yerini almaya ba≈üladƒ±.Systemd linux √ßekirdeƒüi i√ßin geli≈ütirilen ve klasik init sistemlerinin(openrc vs.) yerine ge√ßecek olan daha hƒ±zlƒ± ve kararlƒ± bir sistem y√∂netim daemonu.</p>
<p><img class="  " alt="systemd pstree √ßƒ±ktƒ±sƒ±" src="https://raw.githubusercontent.com/hut/minirc/master/screenshot.png" width="368" height="277"> systemd pstree √ßƒ±ktƒ±sƒ±</p>
<p><img class=" " alt="init pstree √ßƒ±ktƒ±sƒ±" src="https://cdn-images-1.medium.com/max/582/1*-QPL92V3VJo6BuGRJ6qJ-w.png" width="357" height="251"> init pstree √ßƒ±ktƒ±sƒ±
¬†</p>
<p>Yukardaki ekran g√∂r√ºnt√ºleri √∂rneklerinde de g√∂rd√ºƒü√ºn√ºz gibi systemd 'nin sistem √ºzerindeki ilk daemon(ve proses) olduƒüu ve userspace √ºzerinde √ßalƒ±≈üacak olan t√ºm prosesler klasik init sistemlerinde olduƒüu gibi systemd'nin alt proseslerini olu≈üturmaktadir.Systemd'nin yapƒ±sƒ±nƒ± biraz daha iyi anlamak i√ßin a≈üaƒüƒ±daki ≈üema yardƒ±mcƒ± olacaktƒ±r.
</p>
<p><img class=" " alt="Systemd Bile≈üenleri" src="https://upload.wikimedia.org/wikipedia/commons/3/35/Systemd_components.svg" width="432" height="243"> Systemd Bile≈üenleri</p>
<p>Binary Linux Daƒüƒ±tƒ±mlarƒ±nda eƒüer systemd'ye ge√ßilmi≈üse ayrƒ±ca bir≈üey yapmanƒ±za gerek yok.Fakat Gentoo Linux daƒüƒ±tƒ±mƒ±nda ≈üu an stage 3'te √∂ntanƒ±mlƒ± gelmediƒüi i√ßin kendiniz yardƒ±mcƒ± ara√ßlarla ge√ßebilirsiniz.(ki gentoo geli≈ütiricileri bunun i√ßin bir√ßok ≈üeyi hazƒ±rlamƒ±≈ü bulunmakta.)</p>
<p>Kƒ±sa adƒ±mlarla systemd'ye ge√ßi≈üten bahsedebilirim:</p>
<ol>
<li>ƒ∞lk olarak √ßekirdeƒüimize systemd i√ßin gerekli destekleri verelim.Gentoo geli≈ütiricileri bu konuda kullanƒ±cƒ±larƒ± rahatlamak i√ßin g√ºncel kernel s√ºr√ºmlerinde <em>"kernel konfig√ºrasyon men√ºs√º"</em>ne eklenen <em>"Gentoo Linux"</em> sekmesinin altƒ±nda bulunan <em>"Support for init systems, system and service managers"</em> alt sekmesinin i√ßinde bulunan <em>"systemd"</em> se√ßeneƒüini se√ßerek kernel i√ßin gerekli t√ºm destekleri kolayca verebilirsiniz.Bu se√ßenek sizin zorunlu olan destekleri tek tek elle vermek yerine hƒ±zlƒ±ca yapmanizi saƒülayan bir kƒ±sayol.</li>
</ol>
<p>Gerekli destekleri verdikten sonra kernelimizi ve mod√ºllerimizi yeniden derleyin.</p>
<ol>
<li>Kullandƒ±ƒüƒ±nƒ±z herhangi grafik arabirimi ya da hangi sistem ise "Gentoo" profilinizi "systemd" profiline deƒüi≈ütirerek gerekli profil deƒüi≈üiklerini tanƒ±mlayƒ±n.
<pre># eselect profile list</pre>
</li>
</ol>
<p>Available profile symlink targets:
[1]¬†¬† default/linux/amd64/13.0
[2]¬†¬† default/linux/amd64/13.0/selinux
[3]¬†¬† default/linux/amd64/13.0/desktop
[4]¬†¬† default/linux/amd64/13.0/desktop/gnome *
[5]¬†¬† default/linux/amd64/13.0/desktop/gnome/systemd
[6]¬†¬† default/linux/amd64/13.0/desktop/kde
[7]¬†¬† default/linux/amd64/13.0/desktop/kde/systemd
[8]¬†¬† default/linux/amd64/13.0/developer
[9]¬†¬† default/linux/amd64/13.0/no-multilib
[10]¬† default/linux/amd64/13.0/x32
[11]¬† hardened/linux/amd64
[12]¬† hardened/linux/amd64/selinux
[13]¬† hardened/linux/amd64/no-multilib
[14]¬† hardened/linux/amd64/no-multilib/selinux
[15]¬† hardened/linux/amd64/x32
[16]¬† hardened/linux/uclibc/amd64
Be≈üinci se√ßenekte olan <i>"default/linux/amd64/13.0/desktop/gnome/systemd"</i> profili ile deƒüi≈ütirelim.</p>
<pre># eselect profile set 5</pre>
<ol>
<li>Bu adƒ±mda <i>"systemd"</i>yi y√ºkleyelim.</li>
</ol>
<pre># emerge --ask systemd</pre>
<ol>
<li>Profilimizi deƒüi≈ütirdiƒüimiz i√ßin sistemi g√ºncellemeden √∂nce <i>"sys-apps/dbus"</i> uygulamasƒ±nƒ±n <i>"systemd" <b>USE FLAG</b>'ƒ±nƒ± deaktif(</i>
</li>
</ol>
<pre>/etc/portage/package.use dosyasƒ±nƒ±za "sys-apps/dbus -systemd"</pre>
<p>≈üeklindeki satƒ±rƒ± ekleyin.) edin ve daha sonra sistemi g√ºncelleyin.</p>
<pre># emerge -NuDa world</pre>
<p>Sistemimize bu ≈üekilde gerekli systemd desteƒüini vererek <b>"systemd"</b> ile a√ßƒ±lmasƒ±na hazƒ±r hale getirdik.</p>
<ol>
<li>Yeniden ba≈ülatmadan √∂nce sistemin systemd ile ba≈ülamasƒ± i√ßin √∂n y√ºkleyicinizin kernel satƒ±rƒ±na(grub i√ßin) a≈üaƒüƒ±daki gibi ekleyin:</li>
</ol>
<p>( /boot/grub/menu.lst )</p>
<pre>kernel /vmlinuz-3.7.10-r1 root=/dev/sda2 init=/usr/lib/systemd/systemd</pre>
<p>Grub 2 i√ßin;</p>
<p>( /boot/grub/grub.cfg )</p>
<pre>linux /vmlinuz-3.7.10-r1 root=UUID=21312312-12312312-1231121 init=/usr/lib/systemd/systemd</pre>
<p>UEFI kullanan sistemler i√ßin 1.adƒ±mda kernel derlemeden √∂nce "kernel konfig√ºrasyon men√ºs√º"nde
"<b>Processor type and features</b>" -&gt; "<b>Built-in kernel command line</b>" i√ßine a≈üaƒüƒ±daki gibi ekleyebilirsiniz;</p>
<pre>root=/dev/sda2 init=/usr/lib/systemd/systemd</pre>
<p>6.Sistemi yeniden ba≈ülatƒ±n.</p>
<p>7.Sistem yeniden ba≈üladƒ±ktan sonra eski(Openrc vs.) init sistemi √ºzerinde tanƒ±mladƒ±ƒüƒ±mƒ±z hostname,locale ayarlarƒ± artƒ±k systemd √ºzerinde ge√ßerli olmayacaktƒ±r.</p>
<p>Systemd hostname ayarlamak i√ßin;</p>
<pre># hostnamectl set-hostname benimpc</pre>
<p>Systemd klavye ayarlarƒ± i√ßin;</p>
<pre># localectl set-keymap trq</pre>
<p>X11 i√ßin;</p>
<pre># localectl set-x11-keymap tr</pre>
<p>Sistem locale ayarƒ± i√ßin;</p>
<pre># localectl set-locale LANG=en_US.UTF-8</pre>
<p>T√ºrk√ße i√ßin;</p>
<pre># localectl set-locale LANG=tr_TR.UTF-8</pre>
<p>8.Yukardaki adƒ±mda sistem i√ßin gerekli tanƒ±mlamalarƒ± yaptƒ±k.Fakat herhangi bir grafik arabirimi kullanƒ±yorsanƒ±z,bu a√ßƒ±lmayacaktƒ±r.Systemd √ºzerinde de diƒüer init sistemlerinde olduƒüu gibi gerekli olan servisleri sistem a√ßƒ±lƒ±≈üƒ±na ekleyebilir,servisleri √ßalƒ±≈ütƒ±rabilir,durumunu √∂ƒürenebilir ve bir servisi durdurabiliriz.</p>
<p>Systemd √ºzerinde sistem a√ßƒ±lƒ±≈üƒ±nda aktif olan servis ya da¬† hizmetleri ve bunlarƒ±n durumlarƒ±nƒ± g√∂rmek i√ßin;</p>
<pre># systemctl</pre>
<p>Aktif ve deaktif t√ºm servislerin durumunu g√∂rmek i√ßin;</p>
<pre># systemctl list-unit-files</pre>
<p>Herhangi bir servisi sistem a√ßƒ±lƒ±≈üƒ±na eklemek i√ßin;</p>
<pre># systemd enable vixie-cron.service</pre>
<p>Herhangi bir servisi √ßalƒ±≈ütƒ±rmak i√ßin;</p>
<pre># systemctl start syslog-ng.service</pre>
<p><b>NOT:</b> systemd herhangi bir syslog yazƒ±lƒ±mƒ±na ihtiya√ß duymamaktadƒ±r.Systemd √ºzerinde journal log bilgilerini tutmaktadƒ±r.</p>
<p>Herhangi bir servisin durumunu g√∂rmek i√ßin;</p>
<pre># systemctl status NetworkManager.service</pre>
<p>Herhangi bir servisi durdurmak i√ßin;</p>
<pre># systemctl stop upower.service</pre>
<p>Herhangi bir servisi yeniden ba≈ülatmak i√ßin;</p>
<pre># systemctl restart dhcpcd.service</pre>
<p><b>NOT:</b> Gerekli olan servisleri sistem a√ßƒ±lƒ±≈üƒ±nda aktif etmeyi ihmal etmeyin.Grafik arabirimini sistem a√ßƒ±lƒ±≈üƒ±nda ba≈ülamasƒ± i√ßin √∂rnek olarak "xdm"i sistem a√ßƒ±lƒ±≈üƒ±nda aktif etmek i√ßin;</p>
<pre># systemctl enable xdm.service</pre>
<p>Burada dikkat edilecek nokta openrc'den systemd'ye ge√ßi≈üte <i>"/etc/conf.d/xdm"</i> i√ßerisinde yapmƒ±≈ü olduƒüumuz herhangi bir <i>"display manager"</i> ayarƒ±mƒ±z ge√ßersiz olacaktƒ±r.Ge√ßerli olan <i>"display manager"</i>i xdm'nin a√ßƒ±lƒ±≈üta √ßalƒ±≈ütƒ±rmasƒ± istiyorsanƒ±z;</p>
<p><i>"/usr/lib/systemd/system/xdm.service"</i> dosyasƒ± i√ßindeki ,</p>
<pre>[Service]
ExecStart=/usr/bin/xdm -nodaemon</pre>
<p>--&gt; satƒ±rƒ±nƒ±;</p>
<p>(GDM i√ßin)</p>
<pre>[Service]
ExecStart=/usr/bin/gdm</pre>
<p>---&gt; ≈üeklinde deƒüi≈ütirin.Bu ≈üekilde sistem a√ßƒ±lƒ±≈üƒ±nda <b>"gdm"</b>yi aktifle≈ütirebiliyoruz.</p>
<ol>
<li>Deƒüinebileceƒüim diƒüer bir nokta ise a√ßƒ±lƒ±≈üta otomatik y√ºklenmesi istediƒüiniz mod√ºller ve network ayarlarƒ±.</li>
</ol>
<p>Sistem a√ßƒ±lƒ±≈üƒ±nda otomatik y√ºklenmesi istediƒüiniz mod√ºl ya da¬† mod√ºlleri <b>"/etc/modules-load.d"</b> dizini i√ßerisine isterseniz ayrƒ± ayrƒ±,istediƒüiniz sekilde isimlendirdiƒüiniz dosyalarƒ±n i√ßerisine ilk satƒ±ra ve ya tek bir dosya i√ßerisinde her mod√ºl tek satƒ±rda olacak ≈üekilde yazabilirsiniz.√ñrnek:</p>
<p>( /etc/modules-load.d/modullerim.conf )</p>
<pre>bridge

tun</pre>
<pre>≈üeklinde ekleyebilirsiniz.

Network Ayarlarƒ± kƒ±smƒ±nda ise ,kablolu ve otomatik ip alan bir networkte bulunuyorsanƒ±z, a√ßƒ±lƒ±≈üta dhcpcd servisini aktif etmeniz yeterli.</pre>
<pre># systemctl enable dhcpcd.service</pre>
<p>Eƒüer network-manager kullanƒ±yorsanƒ±z , sistem a√ßƒ±lƒ±≈üƒ±nda aktif etmek i√ßin;</p>
<pre># systemctl enable NetworkManager.service</pre>
<p>Ya da farklƒ± bir network modelinde √ßalƒ±≈üƒ±p kendiniz olu≈üturmak i√ßin kolayca systemd servis dosyasƒ± yazabiliriz."/etc/systemd/system" dizini i√ßerisine kendi istediƒüimiz modelde bir script yazarak a√ßƒ±lƒ±≈üta aktif edebiliriz.√ñrnek olarak;</p>
<p>( /etc/systemd/system/mynetwork.service )</p>
<pre>[Unit]
Description=network ayarlarim
After=network.target

[Service]
Type=oneshot
RemainAfterExit=yes

EnvironmentFile=/etc/conf.d/bridge.conf

ExecStart=/bin/ifconfig eth0 up
ExecStart=/bin/ifconfig eth1 up
ExecStart=/usr/bin/tunctl -b -u rico -t tap0
ExecStart=/bin/ifconfig tap0 up promisc
ExecStart=/sbin/brctl addbr br0
ExecStart=/sbin/brctl addif br0 eth0
ExecStart=/sbin/brctl addif br0 eth1
ExecStart=/sbin/brctl addif br0 tap0
ExecStart=/sbin/dhcpcd br0

ExecStop=/usr/bin/killall dhcpcd
ExecStop=/bin/ifconfig eth0 down
ExecStop=/bin/ifconfig eth1 down
ExecStop=/bin/ifconfig tap0 down
ExecStop=/sbin/brctl delif br0 tap0
ExecStop=/usr/bin/tunctl -d tap0
ExecStop=/sbin/brctl delif br0 eth0
ExecStop=/sbin/brctl delif br0 eth1
ExecStop=/bin/ifconfig br0 down
ExexStop=/sbin/brctl delbr br0

[Install]
WantedBy=multi-user.target</pre>
<p>Systemd ile iyi keyifler :)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/alcatel-lucent-switch-konsol-pin-siralamas/" class="u-url">Alcatel-Lucent Switch Konsol Pin Sƒ±ralamasƒ±</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/alcatel-lucent-switch-konsol-pin-siralamas/" rel="bookmark">
            <time class="published dt-published" datetime="2013-07-15T00:17:43+03:00" itemprop="datePublished" title="2013-07-15 00:17">2013-07-15 00:17</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/alcatel-lucent-switch-konsol-pin-siralamas/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p></p>
<p>Elinizde cihazƒ±n (<em>Alcatel-Lucent</em>) <a title="Seri Port" href="http://tr.wikipedia.org/wiki/Seri_port" target="_blank">seri port</a> (<a title="RS-232" href="http://tr.wikipedia.org/wiki/RS-232" target="_blank">RS -232</a> bakƒ±n.) baƒülantƒ± kablosu kayƒ±p ve ya yoksa √ºz√ºlmeyin.Aramanƒ±za ya da yeni bir tane sipari≈ü etmekte harcayacaƒüƒ±nƒ±z enerjinizi kendize hemen bir tane yaparak √ß√∂z√ºm saƒülayabilirsiniz.Daha √∂nce de <a title="Enterasys N/X Serisi Konsol Baƒülantƒ±sƒ±" href="http://linux.piesso.com/enterasys-n-ve-x-serisi-konsol-baglantisi" target="_blank">Enterasys N7 backbone</a> cihazlarƒ± i√ßin pin sƒ±rasƒ±nƒ± vermi≈ütim.≈ûimdi Alcatel-Lucent marka switch'lerin ( <em>√∂rn: 6850 ve 9800</em> ) DB9 ve RJ45 pin sƒ±rasƒ±:
<img alt="console pin" src="http://4.bp.blogspot.com/_Fduwa95b3Ac/TMB9s0Bq6AI/AAAAAAAADNE/grUS0E2yqMI/s1600/Alcatel+console.jpg" width="437" height="452"></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/google-reader-ozgur-alternatif-newsblur/" class="u-url">Google Reader'a √ñzg√ºr Alternatif : NewsBlur</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                mofm
            </span></p>
            <p class="dateline">
            <a href="posts/google-reader-ozgur-alternatif-newsblur/" rel="bookmark">
            <time class="published dt-published" datetime="2013-01-29T12:18:41+02:00" itemprop="datePublished" title="2013-01-29 12:18">2013-01-29 12:18</time></a>
            </p>
                <p class="commentline">
    
        <a href="posts/google-reader-ozgur-alternatif-newsblur/#utterances-thread">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p></p>
<img class="alignright" alt="NewsBlur" src="http://media.tumblr.com/tumblr_li3v0f3zPR1qg4k90.png" width="180" height="180">Google Reader servisinin √∂zg√ºr yazƒ±lƒ±m alternatifi olan "<em>NewsBlur</em>" ile istediginiz blog ya da web adreslerinin RSS'lerini tarayƒ±cƒ±nƒ±zdan takip edebilirsiniz.NewsBlur'un websitesine[ <a title="NewsBlur" href="https://www.newsblur.com/" target="_blank">https://www.newsblur.com/</a> ] birka√ß adƒ±mda kayƒ±t olarak online takip etmeye ba≈ülayabilir ya da GitHub[ <a title="NewsBlur" href="https://github.com/samuelclay/NewsBlur" target="_blank">https://github.com/samuelclay/NewsBlur</a> ] √ºzerinden kaynak kodlarƒ±nƒ±( <em>MIT Lisansƒ± ile</em>) indirip kendiniz kurabilirsiniz.
<p><strong>Mimarisi:</strong></p>
<p><code>* Django
* Celery &amp; RabbitMQ
* MongoDB, Pymongo, &amp; Mongoengine
* PostgreSQL</code></p>
    </div>
    </article>
</div>

        <ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-24.html" rel="prev">Newer posts</a></li>
            <li class="next"><a href="index-22.html" rel="next">Older posts</a></li>
        </ul>
<!--End of body content--><footer id="footer">
            Contents ¬© 2022         <a href="mailto:emre.eryilmaz@piesso.com">mofm</a> - Powered by         <a href="https://getnikola.com" rel="nofollow" target="_blank">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="assets/js/all-nocdn.js"></script><script src="https://polyfill.io/v3/polyfill.js?features=Intl.RelativeTimeFormat.%7Elocale.en"></script><script src="assets/js/luxon.min.js"></script><!-- fancy dates --><script>
        luxon.Settings.defaultLocale = "en";
        fancydates(2, {"preset": false, "format": "yyyy-MM-dd HH:mm"});
        </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
